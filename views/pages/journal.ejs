<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Journal - VibingSG</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <%- include('../partials/header') %>

  <main class="log-mood-form">
    <h2 class="section-title">Log Your Journal</h2>
    <p>How are you vibing today?</p>

    <form action="/new" method="POST">
      <textarea name="content" placeholder="Describe what's happening in your day..."></textarea>
      <div style="text-align: center;">
        <button type="submit" class="save-mood">Save Journal Entry</button>
      </div>
    </form>
  </main>

  <section class="mood-tracker">
    <h2 class="section-title">Previous Entries</h2>
    <% if (blogs && blogs.length > 0) { %>
      <% blogs.forEach(post => { %>
        <article class="post-container">
          <h3><%= post.title %></h3>
          <p><%= post.content %></p>
          <form action="/delete/<%= post.id %>" method="POST" onsubmit="return confirm('Do you really want to delete this post?');">
            <button type="submit" class="log-mood">Delete</button>
          </form>
        </article>
      <% }); %>
    <% } else { %>
      <p>No journal entries yet. Start writing today!</p>
    <% } %>
  </section>

  <%- include('../partials/footer') %>
</body>
</html>
