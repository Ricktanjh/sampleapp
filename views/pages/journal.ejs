<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Journal - VibingSG</title>
  <link rel="stylesheet" href="/css/style.css" />
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MNL58M3HNB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MNL58M3HNB');
</script>
</head>
<body>
  <%- include('../partials/header') %>

  <main class="mood-check">
    <h2 class="section-title">Log Your Journal</h2>
    <p>How are you vibing today?</p>

    <form action="/new" method="POST">
      <textarea name="content" placeholder="Describe what's happening in your day..."></textarea>
      <div style="text-align: center;">
        <button type="submit" class="save-mood">Save Journal Entry</button>
      </div>
    </form>
  </main>

  <section class="mood-check">
    <h2 class="section-title">Previous Entries</h2>
    <% if (blogs && blogs.length > 0) { %>
      <% blogs.forEach(post => { %>
        <article class="card">
          <h3><%= post.title %></h3>
          <p><%= post.content %></p>
          <form action="/journal/<%= post.id %>/delete" method="POST" onsubmit="return confirm('Do you really want to delete this post?');">
  <button type="submit" class="log-mood">Delete</button>
</form>
        </article>
      <% }); %>
    <% } else { %>
      <p>No journal entries yet. Start writing today!</p>
    <% } %>
  </section>

  <%- include('../partials/footer') %>
</body>

</html>
